<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}SocialApp{% endblock %}</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 text-gray-800">

    <header class="bg-blue-400 text-white shadow-md">
        <div class="max-w-7xl mx-auto px-4 py-4 flex items-center justify-between">
            {% if user.profile.profile_picture %}
                <a href="{% url 'home' %}">
                    <img src="{{ user.profile.profile_picture.url }}" alt="Profile Picture" class="w-12 h-12 rounded-full object-cover">
                </a>
            {% else %}
                <a href="{% url 'home' %}">
                    <span class="text-white font-bold text-xl">SocialApp</span> 
                </a>
            {% endif %}
    
            <nav>
                <ul class="flex space-x-6">
                    <li><a href="{% url 'home' %}" class="hover:text-gray-200">Home</a></li>
                    {% if user.is_authenticated %}
                        <li><a href="{% url 'profile' user.username %}" class="hover:text-gray-200">Profile</a></li>
                        <li><a href="{% url 'posts' %}" class="hover:text-gray-200">Posts</a></li>
                        <li><a href="{% url 'add_post' %}" class="hover:text-gray-200">Add Post</a></li>
                        <li><a href="{% url 'logout' %}" class="hover:text-gray-200">Logout</a></li>
                    {% else %}
                        <li><a href="{% url 'login' %}" class="hover:text-gray-200">Login</a></li>
                        <li><a href="{% url 'register' %}" class="hover:text-gray-200">Register</a></li>
                    {% endif %}
                </ul>
            </nav>
    
            <div class="relative">
                <a href="{% url 'notifications' %}" class="text-gray-400 hover:text-gray-200">
                    <i class="fa fa-bell text-2xl"></i>
                    {% if notifications_count > 0 %}
                        <span class="absolute top-0 right-0 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center">
                            {{ notifications_count }}
                        </span>
                    {% endif %}
                </a>
            </div>
    
            <form method="get" action="{% url 'search_users' %}" class="flex space-x-2 mt-2">
                <input type="text" name="username" placeholder="Search users..." class="border-2 border-gray-300 p-2 rounded-md focus:ring-2 focus:ring-blue-500">
                <button type="submit" class="bg-blue-600 text-white p-2 rounded-md hover:bg-blue-800">Search</button>
            </form>
        </div>
    </header>
    

    <main>
        {% block content %} 
        {% endblock %}
    </main>

    <footer class="bg-gray-800 text-white py-6 mt-10">
        <div class="max-w-7xl mx-auto text-center">
            <p>&copy; 2025 SocialApp. All rights reserved.</p>
        </div>
    </footer>

</body>
</html>
